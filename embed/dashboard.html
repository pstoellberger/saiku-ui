<!DOCTYPE HTML>
<html>
	<head>
		
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Saiku Dashboarding - Next Generation Open Source Analytics in your App!</title>
        <link rel="shortcut icon" href="favicon.ico">

       	
       	<!-- BOOTSTRAP -->

		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
		<link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/saiku/src/styles.css" type="text/css">

		<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
		<script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>


        <!--  jQuery 1.7.2 , jQuery UI 1.8.14-->
        <script src="../js/jquery/jquery.min.js" type="text/javascript"></script>
        <script src="../js/jquery/jquery-ui-1.10.4.min.js" type="text/javascript"></script>
        <script src="../js/jquery/jquery.blockUI.js" type="text/javascript"></script>
        

        <!-- BACKBONE -->
        <script type="text/javascript" src="../js/backbone/underscore.js"></script>
        <script type="text/javascript" src="../js/backbone/json2.js"></script>
        <script type="text/javascript" src="../js/backbone/backbone.js"></script>

        <!-- CCC2 -->
        <script type="text/javascript" src="../js/saiku/plugins/CCC_Chart/def.js"></script>
        <script type="text/javascript" src="../js/saiku/plugins/CCC_Chart/protovis.js"></script>
        <script type="text/javascript" src="../js/saiku/plugins/CCC_Chart/protovis-msie.js"></script>
        <script type="text/javascript" src="../js/saiku/plugins/CCC_Chart/pvc.js"></script>
        <script type="text/javascript" src="../js/saiku/plugins/CCC_Chart/jquery.tipsy.js"></script>
        <script type="text/javascript" src="../js/saiku/plugins/CCC_Chart/tipsy.js"></script>
        <link type="text/css" href="../js/saiku/plugins/CCC_Chart/tipsy.css" rel="stylesheet"/>
            
        <!-- SAIKU EMBEDDED LIBRARIES -->
        <link rel="stylesheet" href="../css/saiku/src/saiku.table.css" type="text/css"> 
        <link rel="stylesheet" href="saiku.css" type="text/css">
        <script type="text/javascript" src="../js/saiku/render/SaikuRenderer.js"></script>
        <script type="text/javascript" src="../js/saiku/render/SaikuTableRenderer.js"></script>
        <script type="text/javascript" src="../js/saiku/render/SaikuChartRenderer.js"></script>
        <script type="text/javascript" src="../js/saiku/embed/SaikuEmbed.js"></script>

        <script type="text/javascript" src="../js/saiku/Settings.js"></script>
        <script type="text/javascript" src="../js/saiku/models/Repository.js"></script>
        <script type="text/javascript" src="../js/saiku/views/RepoViewer.js"></script>

<style type="text/css">
.ui-icon { width: 16px; height: 16px; background-image: url(http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/images/ui-icons_222222_256x240.png)/*{iconsContent}*/; }
.ui-resizable { position: relative;}
.ui-resizable-handle { position: absolute;font-size: 0.1px;z-index: 99999; display: block;}
.ui-resizable-disabled .ui-resizable-handle, .ui-resizable-autohide .ui-resizable-handle { display: none; }
.ui-resizable-n { cursor: n-resize; height: 7px; width: 100%; top: -5px; left: 0px; }
.ui-resizable-s { cursor: s-resize; height: 7px; width: 100%; bottom: -5px; left: 0px; }
.ui-resizable-e { cursor: e-resize; width: 7px; right: -5px; top: 0px; height: 100%; }
.ui-resizable-w { cursor: w-resize; width: 7px; left: -5px; top: 0px; height: 100%; }
.ui-resizable-se { cursor: se-resize; width: 12px; height: 12px; right: 1px; bottom: 1px; }
.ui-resizable-sw { cursor: sw-resize; width: 9px; height: 9px; left: -5px; bottom: -5px; }
.ui-resizable-nw { cursor: nw-resize; width: 9px; height: 9px; left: -5px; top: -5px; }
.ui-resizable-ne { cursor: ne-resize; width: 9px; height: 9px; right: -5px; top: -5px;}
.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }
</style>

        <style>
        body {
            background: none repeat scroll 0 0 #FFFFFF;
            color: #222222;
            font-family: "Helvetica Neue",Arial,Helvetica,sans-serif;
        }

        .panel {
        	margin: 20px;
        }
        .panel-body {
        	margin: 2px;
        }
        </style>


	</head>
	<body>
	
	<style type="text/css>">
	
	</style>


<nav class="navbar navbar-fixed-top navbar-inverse" role="navigation">
	<div class="navbar-header">
		<a class="navbar-brand" href="#">Saiku Dashboards</a>
	</div>
	<div class="collapse navbar-collapse navbar-ex1-collapse">
		<ul class="nav navbar-nav menu">
			<li class="active" data-link="homePage">
				<a href="#"><i class="icon-home"></i> Home</a>
			</li>
			<li>
				<a href="#"><i class="icon-dashboard"></i> Dashboards</a>
			</li>
			<li>
				<a href="#"><i class="icon-list"></i> Reports</a>
			</li>
			<li>
				<a href="#"><i class="icon-bar-chart"></i> Analysis</a>
			</li>
			<li>
				<a href="#"><i class="icon-beaker"></i> Knowledge</a>
			</li>
		</ul>
	</div>
</nav> 
      
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title">Logout</h4>
			</div>
			<div class="modal-body">
				Are you sure you want to logout?
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-primary">Logout</button>
			</div>
		</div>
	</div>
</div>

<br ><br >
<br ><br >
<div style="float:left;">
<div>

<div class="panel panel-default repowrapper" style="width: 300px; float:left;">
  <div class="panel-heading">
    <h3 class="panel-title">Repository</h3>
<a href='#' class='closeRepo'>Close</a>
  </div>
  <div id="saiku" class="panel-body repoLeft" style="height: 550px;">
  </div>

</div>

<div class="panel panel-default left" style="width: 800px; float:left;">
  <div class="panel-heading">
    <h3 class="panel-title">Widget</h3>
  </div>
  <div id="saiku2" class="panel-body workspace_results query_droppable" style="height: 200px;">
  </div>
</div>

<div class="panel panel-default left" style="width: 800px; float:left;">
  <div class="panel-heading">
    <h3 class="panel-title">Widget</h3>
  </div>
  <div id="saiku3" class="panel-body workspace_results query_droppable" style="height: 200px;">
  </div>
</div>

<div class="panel panel-default left" style="width: 800px; float:left;">
  <div class="panel-heading">
    <h3 class="panel-title">Widget</h3>
  </div>
  <div id="saiku4" class="panel-body workspace_results query_droppable" style="height: 300px;">
  </div>
</div>

<div class="panel panel-default left" style="width: 800px; float:left;">
  <div class="panel-heading">
    <h3 class="panel-title">Widget</h3>
  </div>
  <div id="saiku5" class="panel-body workspace_results query_droppable" style="height: 300px;">
  </div>
</div>


</div>


        

<script type="text/javascript">

var myClient = new SaikuClient({
    server: "/saiku",
    path: "/rest/saiku/embed",
    user: "admin",
    password: "admin"
});
RepositoryUrl = "../saiku/rest/saiku/api/repository";

var RepoViewer = new RepoViewer({ el: ".repoLeft" });

$('.closeRepo').bind('click', function() {
    $('.repowrapper').remove();
});




(function($,window){"use strict";var $win=$(window),$textArea=false,$currentlyEdited=false,EVENT_ATTR="data-edit-event",IS_EDITING_ATTR="data-is-editing",EMPTY_ATTR="data-is-empty",DBL_TAP_EVENT="dbltap",SUPPORTS_TOUCH="ontouchend"in window,TINYMCE_INSTALLED="tinyMCE"in window&&typeof window.tinyMCE.init=="function",oldjQueryIs=$.fn.is,lastTap=0,tapper=function(){var now=(new Date).getTime();if(now-lastTap<250){$(this).trigger(DBL_TAP_EVENT)}lastTap=now},keyHandler=function(e){if(e.keyCode==13&&e.data.closeOnEnter){$currentlyEdited.editable("close")}else if(e.data.toggleFontSize&&e.metaKey&&(e.keyCode==38||e.keyCode==40)){var fontSize=parseInt($textArea.css("font-size"),10);fontSize+=e.keyCode==40?-1:1;$textArea.css("font-size",fontSize+"px");return false}},adjustTextAreaHeight=function(){if($textArea[0].scrollHeight!==parseInt($textArea.attr("data-scroll"),10)){$textArea.css("height",$textArea[0].scrollHeight+"px");$textArea.attr("data-scroll",$textArea[0].scrollHeight)}},resetElement=function($el,newText,emptyMessage){$el.removeAttr(IS_EDITING_ATTR);if(newText.length==0&&emptyMessage){$el.html(emptyMessage);$el.attr(EMPTY_ATTR,"empty")}else{$el.html(newText);$el.removeAttr(EMPTY_ATTR)}$textArea.remove()},elementEditor=function($el,opts){if($el.is(":editing"))return;$currentlyEdited=$el;$el.attr(IS_EDITING_ATTR,"1");if($el.is(":empty")){$el.removeAttr(EMPTY_ATTR);$el.html("")}var defaultText=$.trim($el.html()),defaultFontSize=$el.css("font-size"),elementHeight=$el.height(),textareaStyle="width: 96%; padding:0; margin:0; border:0; background:none;"+"font-family: "+$el.css("font-family")+"; font-size: "+$el.css("font-size")+";"+"font-weight: "+$el.css("font-weight")+";";if(opts.lineBreaks){defaultText=defaultText.replace(/<br( |)(|\/)>/g,"\n")}$textArea=$("<textarea></textarea>");$el.text("");if(navigator.userAgent.match(/webkit/i)!==null){textareaStyle=document.defaultView.getComputedStyle($el.get(0),"").cssText}textareaStyle+="position: static";if(opts.tinyMCE!==false){var id="editable-area-"+(new Date).getTime();$textArea.val(defaultText).appendTo($el).attr("id",id);if(typeof opts.tinyMCE!="object")opts.tinyMCE={};opts.tinyMCE.mode="exact";opts.tinyMCE.elements=id;opts.tinyMCE.width=$el.innerWidth();opts.tinyMCE.height=$el.height()+200;opts.tinyMCE.theme_advanced_resize_vertical=true;opts.tinyMCE.setup=function(ed){ed.onInit.add(function(editor,evt){var editorWindow=editor.getWin();var hasPressedKey=false;var editorBlur=function(){var newText=$(editor.getDoc()).find("body").html();if($(newText).get(0).nodeName==$el.get(0).nodeName){newText=$(newText).html()}resetElement($el,newText,opts.emptyMessage);editor.remove();$textArea=false;$win.unbind("click",editorBlur);$currentlyEdited=false;if(typeof opts.callback=="function"){opts.callback({content:newText==defaultText||!hasPressedKey?false:newText,fontSize:false,$el:$el})}};setTimeout(function(){$win.bind("click",editorBlur)},500);$textArea=$("<textarea></textarea>");$textArea.bind("blur",editorBlur);editorWindow.onkeydown=function(){hasPressedKey=true};editorWindow.focus()})};tinyMCE.init(opts.tinyMCE)}else{if(opts.toggleFontSize||opts.closeOnEnter){$win.bind("keydown",opts,keyHandler)}$win.bind("keyup",adjustTextAreaHeight);$textArea.val(defaultText).blur(function(){$currentlyEdited=false;var newText=$.trim($textArea.val()),newFontSize=$textArea.css("font-size");if(opts.lineBreaks){newText=newText.replace(new RegExp("\n","g"),"<br />")}resetElement($el,newText,opts.emptyMessage);if(newFontSize!=defaultFontSize){$el.css("font-size",newFontSize)}$win.unbind("keydown",keyHandler);$win.unbind("keyup",adjustTextAreaHeight);if(typeof opts.callback=="function"){opts.callback({content:newText==defaultText?false:newText,fontSize:newFontSize==defaultFontSize?false:newFontSize,$el:$el})}}).attr("style",textareaStyle).appendTo($el).css({margin:0,padding:0,height:elementHeight+"px",overflow:"hidden"}).focus().get(0).select();adjustTextAreaHeight()}$el.trigger("edit",[$textArea])},editEvent=function(event){if($currentlyEdited!==false){$currentlyEdited.editable("close");elementEditor($(this),event.data)}else{elementEditor($(this),event.data)}return false};$.fn.editable=function(opts){if(typeof opts=="string"){if(this.is(":editable")){switch(opts){case"open":if(!this.is(":editing")){this.trigger(this.attr(EVENT_ATTR))}break;case"close":if(this.is(":editing")){$textArea.trigger("blur")}break;case"destroy":if(this.is(":editing")){$textArea.trigger("blur")}this.unbind(this.attr(EVENT_ATTR));this.removeAttr(EVENT_ATTR);break;default:console.warn('Unknown command "'+opts+'" for jquery.editable')}}else{console.error("Calling .editable() on an element that is not editable, call .editable() first")}}else{if(this.is(":editable")){console.warn('Making an already editable element editable, call .editable("destroy") first');this.editable("destroy")}opts=$.extend({event:"dblclick",touch:true,lineBreaks:true,toggleFontSize:true,closeOnEnter:false,emptyMessage:false,tinyMCE:false},opts);if(opts.tinyMCE!==false&&!TINYMCE_INSTALLED){console.warn("Trying to use tinyMCE as editor but id does not seem to be installed");opts.tinyMCE=false}if(SUPPORTS_TOUCH&&opts.touch){opts.event=DBL_TAP_EVENT;this.unbind("touchend",tapper);this.bind("touchend",tapper)}else{opts.event+=".textEditor"}this.bind(opts.event,opts,editEvent);this.attr(EVENT_ATTR,opts.event);if(this.html().length==0&&opts.emptyMessage){this.html(opts.emptyMessage);this.attr(EMPTY_ATTR,"empty")}else{this.removeAttr(EMPTY_ATTR)}}return this};$.fn.is=function(statement){if(typeof statement=="string"&&statement.indexOf(":")===0){if(statement==":editable"){return this.attr(EVENT_ATTR)!==undefined}else if(statement==":editing"){return this.attr(IS_EDITING_ATTR)!==undefined}else if(statement==":empty"){return this.attr(EMPTY_ATTR)!==undefined}}return oldjQueryIs.apply(this,arguments)}})(jQuery,window);

$('.panel-title').editable();
$('.panel').resizable();

</script>
        <script type="text/x-jquery-tmpl" id="template-repository-objects">
            <% _.each( repoObjects, function( entry ) { %>
                <% if( entry.type === 'FOLDER' ) { %>
                   <%= _.template($("#template-repository-folder").html())({ entry: entry }) %>
                <% } else { %>
                    <%= _.template($("#template-repository-file").html())({ entry: entry }) %>
                <% } %>
            <% } ); %>
        </script>
        <script type="text/x-jquery-tmpl" id="template-repository-folder">
            <li class='folder'>
                <div class='folder_row'>
                    <span class='sprite folder collapsed'></span>
                    <a href="#<%= entry.path %>"><%= entry.name %></a>
                </div>

                <ul class='hide folder_content'>

                    <%= _.template($("#template-repository-objects").html())( { repoObjects: entry.repoObjects }) %>
                </ul>
            </li>
        </script>

        <script type="text/x-jquery-tmpl" id="template-repository-file">
            <li class='query'>
                <span class='icon'></span>
                <a href="#<%= entry.path %>"><%= entry.name %></a>
            </li>
        </script>

	</body>
</html>


